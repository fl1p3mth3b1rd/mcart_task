# mcart_task
Реализован микросервис, предоставляющий http api, позволяющий получить информацию по курсу выбранной валюты относительно рубля за две указанные даты, а также получить разницу между полученными значениями.
API предлагает следующие методы:
* **1) Получение списка валют:** позволяет получить список пар ключ-значение следующего вида "код валюты:название валюты". Для реализации метода необходимо сформировать GET-запрос с параметром **method=get_curriencies**
* **2) Получение информации о разнице в курсе валют между указанными датами:** позволяет получить информацию по курсу выбранной валюты относительно рубля за две указанные даты, а также получить разницу между полученными значениями. Для реализации метода необходимо сформировать GET-запрос со следующими параметрами: method=get_exchange_rate, char_code (строка) - код валюты, first_date (строка) - первая дата (формат: YYYY.mm.dd), second_date (строка) - вторая дата (формат: YYYY.mm.dd).

Ниже приведены примеры составления GET-запросов и полученных результатов:
* пример запроса по 1 методу: 
http://127.0.0.1:5000/?method=get_curriencies
* пример результата по 1 методу:
список кодов валют: {"AUD": "Австралийский доллар", "ATS": "Австрийский шиллинг", "AZN": "Азербайджанский манат", "GBP": "Фунт стерлингов Соединенного королевства", "AON": "Ангольская новая кванза", "AMD": "Армянский драм", "BYN": "Белорусский рубль", "BEF": "Бельгийский франк", "BGN": "Болгарский лев", "BRL": "Бразильский реал", "HUF": "Венгерский форинт", "HKD": "Гонконгский доллар", "GRD": "Греческая драхма", "DKK": "Датская крона", "USD": "Доллар США", "EUR": "Евро", "INR": "Индийская рупия", "IEP": "Ирландский фунт", "ISK": "Исландская крона", "ESP": "Испанская песета", "ITL": "Итальянская лира", "KZT": "Казахстанский тенге", "CAD": "Канадский доллар", "KGS": "Киргизский сом", "CNY": "Китайский юань", "KWD": "Кувейтский динар", "LVL": "Латвийский лат", "LBP": "Ливанский фунт", "LTL": "Литовский лит", "null": "Украинский карбованец", "MDL": "Молдавский лей", "DEM": "Немецкая марка", "NLG": "Нидерландский гульден", "NOK": "Норвежская крона", "PLN": "Польский злотый", "PTE": "Португальский эскудо", "ROL": "Румынский лей", "RON": "Румынский лей", "XDR": "СДР (специальные права заимствования)", "SGD": "Сингапурский доллар", "SRD": "Суринамский доллар", "TJS": "Таджикский сомони", "TJR": "Таджикский рубл", "TRY": "Турецкая лира", "TMM": "Туркменский манат", "TMT": "Новый туркменский манат", "UZS": "Узбекский сум", "UAH": "Украинская гривна", "FIM": "Финляндская марка", "FRF": "Французский франк", "CZK": "Чешская крона", "SEK": "Шведская крона", "CHF": "Швейцарский франк", "XEU": "ЭКЮ", "EEK": "Эстонская крона", "YUN": "Югославский новый динар", "ZAR": "Южноафриканский рэнд", "KRW": "Вон Республики Корея", "JPY": "Японская иена"}
* пример запроса по 2 методу:
http://127.0.0.1:5000/?method=get_exchange_rate&char_code=GBP&first_date=2021.08.19&second_date=2021.08.20
* пример результата по 2 методу:
Курс RUB относительно GBP на 19/08/2021 составляет 101.0855 Курс RUB относительно GBP на 20/08/2021 составляет 101.5414 Разность составила 0.456

**Руководство по установке:**
* Для установки необходимо клонировать данный репозиторий на локальную машину, введя команду **git clone https://github.com/fl1p3mth3b1rd/mcart_task** в консоли.
* Далее необходимо установить все пакеты, указанные в requirements.txt, введя команду **pip install -r requirements.txt** в консоли.
* Далее необходимо запустить скрипт Curriencies_API.py, введя команду **python Curriencies_API.py** (на Windows) или **python3 Curriencies_API.py** (на Linux/MacOS)
* После этого нужно скопировать http://127.0.0.1:5000/ в строку браузера и перейти по ссылке (это выведет на основную веб-страницу с инструкцией по использованию API)

**Использованные технологии:**
* Для получения данных о котировках валют с сайта Банка России использована библиотека **requests**.
* Для обработки данных в формате XML использована библиотека **lxml**.
* Для преобразования формата даты использована библиотека **datetime**.
* Для отображения данных на веб-странице использован фреймворк **Flask**.
* Для отображения структуры данных "словарь" на веб странице использована библиотека **json**.
